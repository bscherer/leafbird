(function(){var e={json:null,show_group_label:false,show_placeholder:false,show_input_label:false,multiselect_input:false,multifile_input:false};this.Leafbird=function(e){if(!(this instanceof Leafbird)){return new Leafbird(e)}this.configure(e)};Leafbird.prototype.configure=function(t){for(var n in t){if(e.hasOwnProperty(n)&&t[n]!=undefined)e[n]=t[n]}};Leafbird.prototype.find=function(t,n,r,i){var s=[];var o=i==undefined?e.json:i;for(var u in o){if(u==t&&(n==undefined||r&&o[t].indexOf(n)>-1||!r&&o[t]==n)){s.push(o)}if(o[u]instanceof Object){var a=this.find(t,n,r,o[u]);if(a.length>0)s=s.concat(a)}}return s};Leafbird.prototype.print=function(n,r,i){var s={};for(var o in e)s[o]=e[o];if(!(n instanceof HTMLElement)){throw new SyntaxError("Invalid HTMLElement.",n)}this.configure(i);var u=this.getElements(r);for(var a in u){t(u[a],n)}this.configure(s)};Leafbird.prototype.getElements=function(t){if(!e.json)throw new Error("JSON is not valid.",e.json);var n=[];var r=t&&t.indexOf("*")==0?1:0;if(t==undefined){n.push(e.json)}else if(t.indexOf("#")==r){n=this.find("id",t.substring(r+1),r)}else if(t.indexOf(".")==r){n=this.find("class",t.substring(r+1),r)}else if(t.indexOf(":")==r){n=this.find("name",t.substring(r+1),r)}else{throw new SyntaxError("JSONAttribute '"+t+"' is not valid.",t)}return n};var t=function(e,i){if(e.hasOwnProperty("type")){r(e,i)}else{var s=n(e);for(var o in e){if(e[o]instanceof Array){for(var u in e[o]){t(e[o][u],s)}}}i.appendChild(s)}};var n=function(t){var n=document.createElement("div");if(t.id!=undefined)n.setAttribute("id",t.id);if(t.class!=undefined)n.setAttribute("class",t.class);if(e.show_group_label&&t.label!=undefined){var r=document.createElement("span");if(t.label.title!=undefined)r.setAttribute("title",t.label.title);r.appendChild(document.createTextNode(t.label.value));n.appendChild(r)}return n};var r=function(t,n){if(e.show_input_label&&t.label!=undefined){var r=document.createElement("label");if(t.id!=undefined)r.setAttribute("for",t.id);if(t.label.class!=undefined)r.setAttribute("class",t.label.class);if(t.label.title!=undefined)r.setAttribute("title",t.label.title);r.appendChild(document.createTextNode(t.label.value));n.appendChild(r)}if(t.name==undefined)throw new SyntaxError("InputName is required.",t.name);switch(t.type){case"text":case"number":case"date":case"currency":i(t,n);break;case"radio":case"checkbox":o(t,n);break;case"textarea":s(t,n);break;case"select":u(t,n);break;case"file":a(t,n);break;default:throw new SyntaxError("Invalid InputType.",t.type)}};var i=function(t,n){var r=document.createElement("input");r.setAttribute("type","text");r.setAttribute("name",t.name);if(t.id!=undefined)r.setAttribute("id",t.id);if(t.class!=undefined)r.setAttribute("class",t.class);if(t.default!=undefined)r.setAttribute("value",t.default);if(t.title!=undefined)r.setAttribute("title",t.title);if(e.show_placeholder&&(t.placeholder!=undefined||t.label!=undefined)){r.setAttribute("placeholder",t.placeholder==undefined?t.label.value:t.placeholder)}n.appendChild(r)};var s=function(t,n){var r=document.createElement("textarea");r.setAttribute("name",t.name);if(t.id!=undefined)r.setAttribute("id",t.id);if(t.class!=undefined)r.setAttribute("class",t.class);if(t.title!=undefined)r.setAttribute("title",t.title);if(t.default!=undefined)r.appendChild(document.createTextNode(t.default));if(e.show_placeholder&&(t.placeholder!=undefined||t.label!=undefined)){input.setAttribute("placeholder",t.placeholder==undefined?t.label.value:t.placeholder)}n.appendChild(r)};var o=function(e,t){for(var n in e.values){var r=document.createElement("input");r.setAttribute("type",e.type);r.setAttribute("name",e.name);r.setAttribute("value",e.values[n].value);if(e.id!=undefined)r.setAttribute("id",e.id+"_"+n);if(e.class!=undefined)r.setAttribute("class",e.class);if(e.default==e.values[n].value)r.setAttribute("checked","checked");if(e.values[n].label!=undefined){var i=document.createElement("label");if(e.id!=undefined)i.setAttribute("for",e.id+"_"+n);if(e.values[n].label.class!=undefined)i.setAttribute("class",e.values[n].label.class);if(e.values[n].label.title!=undefined)i.setAttribute("title",e.values[n].label.title);i.appendChild(r);i.appendChild(document.createTextNode(e.values[n].label.value));t.appendChild(i)}else t.appendChild(r)}};var u=function(t,n){var r=document.createElement("select");r.setAttribute("name",t.name);if(t.id!=undefined)r.setAttribute("id",t.id);if(t.class!=undefined)r.setAttribute("class",t.class);if(t.title!=undefined)r.setAttribute("title",t.title);if(e.multiselect_input)r.setAttribute("multiple","multiple");for(var i in t.values){var s=document.createElement("option");s.appendChild(document.createTextNode(t.values[i].label.value));s.setAttribute("value",t.values[i].value);if(t.values[i].label.class!=undefined)s.setAttribute("class",t.values[i].label.class);if(t.default==t.values[i].value)s.setAttribute("selected","selected");r.appendChild(s)}n.appendChild(r)};var a=function(t,n){var r=document.createElement("input");r.setAttribute("type","file");r.setAttribute("name",t.name);if(t.id!=undefined)r.setAttribute("id",t.id);if(t.class!=undefined)r.setAttribute("class",t.class);if(t.accept!=undefined)r.setAttribute("accept",t.accept);if(t.title!=undefined)r.setAttribute("title",t.title);if(e.multifile_input)r.setAttribute("multiple","multiple");n.appendChild(r)};window.Leafbird=Leafbird,window.lb=Leafbird})()
