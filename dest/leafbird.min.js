!function(){var e={json:null,add_form_element:!1,show_group_label:!1,show_placeholder:!1,show_input_label:!1,multiselect_input:!1,multifile_input:!1};this.Leafbird=function(e){return this instanceof Leafbird?void this.configure(e):new Leafbird(e)},Leafbird.prototype.configure=function(t){for(var i in t)e.hasOwnProperty(i)&&void 0!=t[i]&&(e[i]=t[i])},Leafbird.prototype.find=function(t,i,l,a){var r=[],s=void 0==a?e.json:a;for(var d in s)if(d==t&&(void 0==i||l&&s[t].indexOf(i)>-1||!l&&s[t]==i)&&r.push(s),s[d]instanceof Object){var n=this.find(t,i,l,s[d]);n.length>0&&(r=r.concat(n))}return r},Leafbird.prototype.print=function(i,l,a){var r={};for(var s in e)r[s]=e[s];if(!(i instanceof HTMLElement))throw new SyntaxError("Invalid HTMLElement.",i);this.configure(a);var d=this.getElements(l);for(var n in d)t(d[n],i);this.configure(r)},Leafbird.prototype.getElements=function(t){if(!e.json)throw new Error("JSON is not valid.",e.json);var i=[],l=t&&0==t.indexOf("*")?1:0;if(void 0==t)i.push(e.json);else if(t.indexOf("#")==l)i=this.find("id",t.substring(l+1),l);else if(t.indexOf(".")==l)i=this.find("class",t.substring(l+1),l);else{if(t.indexOf(":")!=l)throw new SyntaxError("JSONAttribute '"+t+"' is not valid.",t);i=this.find("name",t.substring(l+1),l)}return i};var t=function(e,a){if(e.hasOwnProperty("type"))l(e,a);else{var r=i(e);for(var s in e)if(e[s]instanceof Array)for(var d in e[s])t(e[s][d],r);a.appendChild(r)}},i=function(t){var i=document.createElement("div");if(void 0!=t.id&&i.setAttribute("id",t.id),void 0!=t["class"]&&i.setAttribute("class",t["class"]),e.show_group_label&&void 0!=t.label){var l=document.createElement("span");void 0!=t.label.title&&l.setAttribute("title",t.label.title),l.appendChild(document.createTextNode(t.label.value)),i.appendChild(l)}return i},l=function(t,i){if(e.show_input_label&&void 0!=t.label){var l=document.createElement("label");void 0!=t.id&&l.setAttribute("for",t.id),void 0!=t.label["class"]&&l.setAttribute("class",t.label["class"]),void 0!=t.label.title&&l.setAttribute("title",t.label.title),l.appendChild(document.createTextNode(t.label.value)),i.appendChild(l)}if(void 0==t.name)throw new SyntaxError("InputName is required.",t.name);switch(t.type){case"text":case"number":case"date":case"currency":a(t,i);break;case"radio":case"checkbox":s(t,i);break;case"textarea":r(t,i);break;case"select":d(t,i);break;case"file":n(t,i);break;default:throw new SyntaxError("Invalid InputType.",t.type)}},a=function(t,i){var l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("name",t.name),void 0!=t.id&&l.setAttribute("id",t.id),void 0!=t["class"]&&l.setAttribute("class",t["class"]),void 0!=t["default"]&&l.setAttribute("value",t["default"]),void 0!=t.title&&l.setAttribute("title",t.title),!e.show_placeholder||void 0==t.placeholder&&void 0==t.label||l.setAttribute("placeholder",void 0==t.placeholder?t.label.value:t.placeholder),i.appendChild(l)},r=function(t,i){var l=document.createElement("textarea");l.setAttribute("name",t.name),void 0!=t.id&&l.setAttribute("id",t.id),void 0!=t["class"]&&l.setAttribute("class",t["class"]),void 0!=t.title&&l.setAttribute("title",t.title),void 0!=t["default"]&&l.appendChild(document.createTextNode(t["default"])),!e.show_placeholder||void 0==t.placeholder&&void 0==t.label||input.setAttribute("placeholder",void 0==t.placeholder?t.label.value:t.placeholder),i.appendChild(l)},s=function(e,t){for(var i in e.values){var l=document.createElement("input");if(l.setAttribute("type",e.type),l.setAttribute("name",e.name),l.setAttribute("value",e.values[i].value),void 0!=e.id&&l.setAttribute("id",e.id+"_"+i),void 0!=e["class"]&&l.setAttribute("class",e["class"]),e["default"]==e.values[i].value&&l.setAttribute("checked","checked"),void 0!=e.values[i].label){var a=document.createElement("label");void 0!=e.id&&a.setAttribute("for",e.id+"_"+i),void 0!=e.values[i].label["class"]&&a.setAttribute("class",e.values[i].label["class"]),void 0!=e.values[i].label.title&&a.setAttribute("title",e.values[i].label.title),a.appendChild(l),a.appendChild(document.createTextNode(e.values[i].label.value)),t.appendChild(a)}else t.appendChild(l)}},d=function(t,i){var l=document.createElement("select");l.setAttribute("name",t.name),void 0!=t.id&&l.setAttribute("id",t.id),void 0!=t["class"]&&l.setAttribute("class",t["class"]),void 0!=t.title&&l.setAttribute("title",t.title),e.multiselect_input&&l.setAttribute("multiple","multiple");for(var a in t.values){var r=document.createElement("option");r.appendChild(document.createTextNode(t.values[a].label.value)),r.setAttribute("value",t.values[a].value),void 0!=t.values[a].label["class"]&&r.setAttribute("class",t.values[a].label["class"]),t["default"]==t.values[a].value&&r.setAttribute("selected","selected"),l.appendChild(r)}i.appendChild(l)},n=function(t,i){var l=document.createElement("input");l.setAttribute("type","file"),l.setAttribute("name",t.name),void 0!=t.id&&l.setAttribute("id",t.id),void 0!=t["class"]&&l.setAttribute("class",t["class"]),void 0!=t.accept&&l.setAttribute("accept",t.accept),void 0!=t.title&&l.setAttribute("title",t.title),e.multifile_input&&l.setAttribute("multiple","multiple"),i.appendChild(l)};window.Leafbird=Leafbird,window.lb=Leafbird}();